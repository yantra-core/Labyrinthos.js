{"version":3,"sourceRoot":"../","sources":["./dist/labyrinthos.js"],"sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.LABY = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"Tile\", {\n  enumerable: true,\n  get: function get() {\n    return _Tile[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"TileMap\", {\n  enumerable: true,\n  get: function get() {\n    return _TileMap[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"labyrinthos\", {\n  enumerable: true,\n  get: function get() {\n    return _labyrinthos[\"default\"];\n  }\n});\nexports.utils = exports.terrains = exports.shapes = exports.mazes = void 0;\nvar _labyrinthos = _interopRequireDefault(require(\"./lib/labyrinthos.js\"));\nvar _Tile = _interopRequireDefault(require(\"./lib/Tile.js\"));\nvar _TileMap = _interopRequireDefault(require(\"./lib/TileMap.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nvar mazes = exports.mazes = _labyrinthos[\"default\"].mazes;\nvar terrains = exports.terrains = _labyrinthos[\"default\"].terrains;\nvar shapes = exports.shapes = _labyrinthos[\"default\"].shapes;\nvar utils = exports.utils = _labyrinthos[\"default\"].utils;\n\n},{\"./lib/Tile.js\":2,\"./lib/TileMap.js\":3,\"./lib/labyrinthos.js\":4}],2:[function(require,module,exports){\n\"use strict\";\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nvar Tile = exports[\"default\"] = /*#__PURE__*/_createClass(function Tile(type) {\n  _classCallCheck(this, Tile);\n  this.type = type; // Integer representing the tile type\n});\n\n},{}],3:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _generateTiledJSON = _interopRequireDefault(require(\"./util/generateTiledJSON.js\"));\nvar _mersenne = _interopRequireDefault(require(\"./util/mersenne.js\"));\nvar _noise = _interopRequireDefault(require(\"./util/noise.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); } // Exports to Tiled Editor JSON format\n// Randomness\n// Perlin Noise\nvar TileMap = exports[\"default\"] = /*#__PURE__*/function () {\n  function TileMap() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$x = _ref.x,\n      x = _ref$x === void 0 ? 0 : _ref$x,\n      _ref$y = _ref.y,\n      y = _ref$y === void 0 ? 0 : _ref$y,\n      width = _ref.width,\n      height = _ref.height,\n      depth = _ref.depth,\n      tileWidth = _ref.tileWidth,\n      tileHeight = _ref.tileHeight,\n      _ref$is3D = _ref.is3D,\n      is3D = _ref$is3D === void 0 ? false : _ref$is3D;\n    _classCallCheck(this, TileMap);\n    this.x = x;\n    this.y = y;\n    // this.z = 0;\n    this.width = width;\n    this.height = height;\n    this.depth = depth;\n    this.tileWidth = tileWidth;\n    this.tileHeight = tileHeight;\n    this.is3D = is3D;\n    this.mersenneTwister = new _mersenne[\"default\"]();\n    this.Noise = new _noise[\"default\"]();\n    this.noise = this.Noise.noise;\n    this.seedNoise = this.Noise.noiseSeed;\n    this.data = this.initializeDataArray({\n      width: width,\n      height: height,\n      is3D: is3D\n    });\n\n    // ASCII representations for tiles 0-10\n    // TODO: Is there a better default set of ASCII characters we can use?\n    this.defaultRogueLike = ['-', '#', '+', '0', '<', '>', '$', '#', '@', '&', '?'];\n  }\n  _createClass(TileMap, [{\n    key: \"initializeDataArray\",\n    value: function initializeDataArray() {\n      // Create a single-dimensional array\n      var data;\n      if (this.is3D) {\n        data = init3DArray(this.width, this.height, this.depth);\n      } else {\n        data = init2DArray(this.width, this.height);\n      }\n      return data;\n    }\n  }, {\n    key: \"fill\",\n    value: function fill(value) {\n      if (this.is3D) {\n        for (var z = 0; z < this.depth; z++) {\n          //  this.fill2D(value, z);\n        }\n      } else {\n        this.fill2D(value);\n      }\n    }\n  }, {\n    key: \"fill2D\",\n    value: function fill2D(value) {\n      for (var i = 0; i < this.height * this.width; i++) {\n        this.data[i] = value;\n      }\n    }\n  }, {\n    key: \"random\",\n    value: function random(max) {\n      return this.mersenneTwister.rand(max);\n    }\n  }, {\n    key: \"seed\",\n    value: function seed(value) {\n      this.mersenneTwister.seed(value);\n      this.seedNoise(value);\n      // this.mersenneTwister.seed_array([value]); // also can seed from arrays\n    }\n  }, {\n    key: \"use\",\n    value: function use(subMap, offsetX, offsetY) {\n      // TODO: add support for if(this.is3D) support\n      for (var y = 0; y < subMap.height; y++) {\n        for (var x = 0; x < subMap.width; x++) {\n          var targetX = x + offsetX;\n          var targetY = y + offsetY;\n          if (targetX < this.width && targetY < this.height) {\n            this.data[targetY * this.width + targetX] = subMap.data[y * subMap.width + x];\n          }\n        }\n      }\n    }\n  }, {\n    key: \"scaleToTileRange\",\n    value: function scaleToTileRange(tileSetRange) {\n      var heightMap = this.data;\n      var max = Math.max.apply(Math, _toConsumableArray(heightMap));\n      var min = Math.min.apply(Math, _toConsumableArray(heightMap));\n      var range = tileSetRange - 1; // Adjust for zero index\n\n      for (var i = 0; i < heightMap.length; i++) {\n        var normalizedHeight = (heightMap[i] - min) / (max - min);\n        this.data[i] = Math.round(normalizedHeight * range) + 1; // +1 to adjust range\n      }\n    }\n  }, {\n    key: \"mask\",\n    value: function mask(format) {\n      var asciiLookup = format || this.defaultRogueLike;\n      var asciiMap = '';\n      for (var y = 0; y < this.height; y++) {\n        for (var x = 0; x < this.width; x++) {\n          var tile = this.data[y * this.width + x];\n          asciiMap += asciiLookup[tile % asciiLookup.length]; // Use modulo to wrap around if tile index exceeds lookup table\n        }\n        asciiMap += '\\n'; // New line at the end of each row\n      }\n      return asciiMap;\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return JSON.stringify({\n        width: this.width,\n        height: this.height,\n        tileWidth: this.tileWidth,\n        tileHeight: this.tileHeight,\n        is3D: this.is3D,\n        data: this.data\n      }, null, 2);\n    }\n  }, {\n    key: \"toTiledJSON\",\n    value: function toTiledJSON() {\n      return (0, _generateTiledJSON[\"default\"])(this);\n    }\n  }]);\n  return TileMap;\n}();\nfunction init2DArray(width, height) {\n  // Create a single-dimensional array\n  return new Array(width * height).fill(0); // Fill with default tile type, e.g., 0\n}\nfunction init3DArray(width, height, depth) {\n  var arr = [];\n  for (var z = 0; z < depth; z++) {\n    arr.push(init2DArray(width, height));\n  }\n  return arr;\n}\n\n},{\"./util/generateTiledJSON.js\":19,\"./util/mersenne.js\":20,\"./util/noise.js\":21}],4:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _Tile = _interopRequireDefault(require(\"./Tile.js\"));\nvar _TileMap = _interopRequireDefault(require(\"./TileMap.js\"));\nvar _AldousBroder = _interopRequireDefault(require(\"./mazes/AldousBroder.js\"));\nvar _BinaryTree = _interopRequireDefault(require(\"./mazes/BinaryTree.js\"));\nvar _CellularAutomata = _interopRequireDefault(require(\"./mazes/CellularAutomata.js\"));\nvar _EllersAlgorithm = _interopRequireDefault(require(\"./mazes/EllersAlgorithm.js\"));\nvar _GrowingTree = _interopRequireDefault(require(\"./mazes/GrowingTree.js\"));\nvar _RecursiveBacktrack = _interopRequireDefault(require(\"./mazes/RecursiveBacktrack.js\"));\nvar _RecursiveDivision = _interopRequireDefault(require(\"./mazes/RecursiveDivision.js\"));\nvar _ThomasHunter = _interopRequireDefault(require(\"./mazes/ThomasHunter.js\"));\nvar _Circle = _interopRequireDefault(require(\"./shapes/Circle.js\"));\nvar _Square = _interopRequireDefault(require(\"./shapes/Square.js\"));\nvar _Triangle = _interopRequireDefault(require(\"./shapes/Triangle.js\"));\nvar _FaultLine = _interopRequireDefault(require(\"./terrains/FaultLine.js\"));\nvar _PerlinNoise = _interopRequireDefault(require(\"./terrains/PerlinNoise.js\"));\nvar _noise = _interopRequireDefault(require(\"./util/noise.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n// Mazes\n\n// import HuntAndKill from './mazes/HuntAndKill.js';\n\n// import SpiralBacktrack from './mazes/SpiralBacktrack.js';\n\n// import TremauxsAlgorithm from './mazes/TremauxsAlgorithm.js';\n// import VoronoiDiagram from './mazes/VoronoiDiagram.js';\n\n// Shapes\n\n// import Hexagon from './shapes/Hexagon.js';\n\n// Biomes\n// TODO: Add biomes\n// Forest, Swamp, Plains, Mountain, Island\n\n// Terrains\n// https://en.wikipedia.org/wiki/Diamond-square_algorithm\n// import DiamondSquare from './terrains/DiamondSquare.js';\n\n// Utilities / Various\n\n// import mapImageToTileMap from './util/mapImageToTileMap.js';\n\nvar labyrinthos = {};\nlabyrinthos.mazes = {};\nlabyrinthos.mazes.AldousBroder = _AldousBroder[\"default\"];\nlabyrinthos.mazes.BinaryTree = _BinaryTree[\"default\"];\nlabyrinthos.mazes.CellularAutomata = _CellularAutomata[\"default\"];\nlabyrinthos.mazes.EllersAlgorithm = _EllersAlgorithm[\"default\"];\nlabyrinthos.mazes.GrowingTree = _GrowingTree[\"default\"];\n// labyrinthos.mazes.HuntAndKill = HuntAndKill;\nlabyrinthos.mazes.RecursiveBacktrack = _RecursiveBacktrack[\"default\"];\nlabyrinthos.mazes.RecursiveDivision = _RecursiveDivision[\"default\"];\n// labyrinthos.mazes.SpiralBacktrack = SpiralBacktrack;\nlabyrinthos.mazes.ThomasHunter = _ThomasHunter[\"default\"];\n// labyrinthos.mazes.TremauxsAlgorithm = TremauxsAlgorithm;\n// labyrinthos.mazes.VoronoiDiagram = VoronoiDiagram;\n\nlabyrinthos.shapes = {};\nlabyrinthos.shapes.Circle = _Circle[\"default\"];\nlabyrinthos.shapes.Square = _Square[\"default\"];\n// labyrinthos.shapes.Hexagon = Hexagon;\nlabyrinthos.shapes.Triangle = _Triangle[\"default\"];\nlabyrinthos.terrains = {};\n// labyrinthos.terrains.DiamondSquare = DiamondSquare;\nlabyrinthos.terrains.FaultLine = _FaultLine[\"default\"];\nlabyrinthos.terrains.PerlinNoise = _PerlinNoise[\"default\"];\nlabyrinthos.utils = {};\nlabyrinthos.utils.noise = _noise[\"default\"];\n// labyrinthos.utils.mapImageToTileMap = mapImageToTileMap;\n\nlabyrinthos.Tile = _Tile[\"default\"];\nlabyrinthos.TileMap = _TileMap[\"default\"];\nvar _default = exports[\"default\"] = labyrinthos;\n\n},{\"./Tile.js\":2,\"./TileMap.js\":3,\"./mazes/AldousBroder.js\":5,\"./mazes/BinaryTree.js\":6,\"./mazes/CellularAutomata.js\":7,\"./mazes/EllersAlgorithm.js\":8,\"./mazes/GrowingTree.js\":9,\"./mazes/RecursiveBacktrack.js\":10,\"./mazes/RecursiveDivision.js\":11,\"./mazes/ThomasHunter.js\":12,\"./shapes/Circle.js\":13,\"./shapes/Square.js\":14,\"./shapes/Triangle.js\":15,\"./terrains/FaultLine.js\":16,\"./terrains/PerlinNoise.js\":17,\"./util/noise.js\":21}],5:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = ALGORITHM_ALDOUS_BRODER;\nfunction ALGORITHM_ALDOUS_BRODER(tileMap, options) {\n  tileMap.fill(1); // Fill with walls\n  var visitedCells = 0;\n  var totalCells = tileMap.width * tileMap.height / 4; // Assumes a grid where every other cell is open\n  var currentX = 2 * Math.floor(Math.random() * Math.floor(tileMap.width / 2));\n  var currentY = 2 * Math.floor(Math.random() * Math.floor(tileMap.height / 2));\n  tileMap.data[currentY * tileMap.width + currentX] = 0; // Open starting cell\n  visitedCells++;\n  while (visitedCells < totalCells) {\n    var directions = [[2, 0], [-2, 0], [0, 2], [0, -2]];\n    var randomDirection = directions[Math.floor(Math.random() * directions.length)];\n    var newX = currentX + randomDirection[0];\n    var newY = currentY + randomDirection[1];\n    if (newX >= 0 && newX < tileMap.width && newY >= 0 && newY < tileMap.height) {\n      if (tileMap.data[newY * tileMap.width + newX] === 1) {\n        // Open path between current cell and new cell\n        tileMap.data[(currentY + randomDirection[1] / 2) * tileMap.width + (currentX + randomDirection[0] / 2)] = 0;\n        tileMap.data[newY * tileMap.width + newX] = 0; // Open new cell\n        visitedCells++;\n      }\n      currentX = newX;\n      currentY = newY;\n    }\n  }\n}\n\n},{}],6:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = ALGORITHM_BINARY_TREE;\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction ALGORITHM_BINARY_TREE(tileMap, options) {\n  tileMap.fill(1); // Fill with walls\n\n  for (var y = 0; y < tileMap.height; y += 2) {\n    for (var x = 0; x < tileMap.width; x += 2) {\n      tileMap.data[y * tileMap.width + x] = 0; // Open cell\n\n      var neighbors = [];\n      if (x + 2 < tileMap.width) neighbors.push([2, 0]); // East\n      if (y + 2 < tileMap.height) neighbors.push([0, 2]); // South\n\n      if (neighbors.length > 0) {\n        var randomIndex = Math.floor(tileMap.random() * neighbors.length);\n        var _neighbors$randomInde = _slicedToArray(neighbors[randomIndex], 2),\n          dx = _neighbors$randomInde[0],\n          dy = _neighbors$randomInde[1];\n        tileMap.data[(y + dy) * tileMap.width + (x + dx)] = 0; // Open path to the selected neighbor\n        tileMap.data[(y + dy / 2) * tileMap.width + (x + dx / 2)] = 0; // Open wall between current cell and selected neighbor\n      }\n    }\n  }\n}\n\n},{}],7:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = generateCellularAutomataMap;\n// CellularAutomata.js - Marak Squires 2024\nfunction generateCellularAutomataMap(tileMap, options) {\n  var floorTileId = 1;\n  var wallTileId = 0;\n  var wallChance = options.wallChance || 0.45;\n  var iterations = options.iterations || 4;\n  var neighborThreshold = options.neighborThreshold || 4;\n\n  // Randomly initialize map\n  for (var y = 0; y < tileMap.height; y++) {\n    for (var x = 0; x < tileMap.width; x++) {\n      tileMap.data[y * tileMap.width + x] = tileMap.random() < wallChance ? wallTileId : floorTileId;\n    }\n  }\n\n  // Cellular automata iteration\n  for (var i = 0; i < iterations; i++) {\n    var newData = new Array(tileMap.width * tileMap.height).fill(floorTileId);\n    for (var _y = 0; _y < tileMap.height; _y++) {\n      for (var _x = 0; _x < tileMap.width; _x++) {\n        var wallNeighbors = 0;\n        for (var dy = -1; dy <= 1; dy++) {\n          for (var dx = -1; dx <= 1; dx++) {\n            if (dx === 0 && dy === 0) continue;\n            var nx = _x + dx;\n            var ny = _y + dy;\n            if (nx >= 0 && nx < tileMap.width && ny >= 0 && ny < tileMap.height) {\n              wallNeighbors += tileMap.data[ny * tileMap.width + nx] === wallTileId ? 1 : 0;\n            } else {\n              wallNeighbors++;\n            }\n          }\n        }\n        newData[_y * tileMap.width + _x] = wallNeighbors >= neighborThreshold ? wallTileId : floorTileId;\n      }\n    }\n    tileMap.data = newData;\n  }\n}\n\n},{}],8:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = generateEllersAlgorithmMap;\n// EllersAlgorithm.js - Marak Squires 2024\nfunction generateEllersAlgorithmMap(tileMap, options) {\n  var floorTileId = 1;\n  var wallTileId = 0;\n  tileMap.data.fill(wallTileId);\n  var sets = {};\n  function makeSet(x, y) {\n    var id = \"\".concat(x, \",\").concat(y);\n    sets[id] = {\n      id: id,\n      cells: [id]\n    };\n    return sets[id];\n  }\n  function findSet(x, y) {\n    var id = \"\".concat(x, \",\").concat(y);\n    return sets[id] || makeSet(x, y);\n  }\n  function unionSets(x1, y1, x2, y2) {\n    var set1 = findSet(x1, y1);\n    var set2 = findSet(x2, y2);\n    if (set1.id === set2.id) return;\n\n    // Merge two sets\n    set2.cells.forEach(function (cellId) {\n      set1.cells.push(cellId);\n      sets[cellId] = set1;\n    });\n  }\n  for (var y = 0; y < tileMap.height; y += 2) {\n    // Join cells horizontally\n    for (var x = 0; x < tileMap.width - 2; x += 2) {\n      if (tileMap.random() > 0.5) {\n        unionSets(x, y, x + 2, y);\n        tileMap.data[y * tileMap.width + x + 1] = floorTileId;\n      }\n    }\n\n    // Join cells vertically\n    if (y < tileMap.height - 2) {\n      var setVisited = {};\n      for (var _x = 0; _x < tileMap.width; _x += 2) {\n        var currentSet = findSet(_x, y).id;\n        if (!setVisited[currentSet] && tileMap.random() > 0.5) {\n          unionSets(_x, y, _x, y + 2);\n          tileMap.data[(y + 1) * tileMap.width + _x] = floorTileId;\n          setVisited[currentSet] = true;\n        }\n      }\n    }\n  }\n\n  // Ensure all paths are connected in the last row\n  for (var _x2 = 0; _x2 < tileMap.width - 2; _x2 += 2) {\n    if (findSet(_x2, tileMap.height - 1).id !== findSet(_x2 + 2, tileMap.height - 1).id) {\n      unionSets(_x2, tileMap.height - 1, _x2 + 2, tileMap.height - 1);\n      tileMap.data[(tileMap.height - 1) * tileMap.width + _x2 + 1] = floorTileId;\n    }\n  }\n}\n\n},{}],9:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = generateGrowingTreeAlgorithmMap;\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction generateGrowingTreeAlgorithmMap(tileMap, options) {\n  var floorTileId = 1; // Open cell\n  var wallTileId = 0; // Wall\n\n  tileMap.data.fill(wallTileId); // Initialize all tiles as walls\n\n  // Function to carve a passage between two points\n  function carvePassage(x1, y1, x2, y2) {\n    tileMap.data[y1 * tileMap.width + x1] = floorTileId;\n    // Carve passage to the next cell (midpoint for the wall and the cell itself)\n    tileMap.data[Math.floor((y1 + y2) / 2) * tileMap.width + Math.floor((x1 + x2) / 2)] = floorTileId;\n    tileMap.data[y2 * tileMap.width + x2] = floorTileId;\n  }\n  var currentX = Math.floor(tileMap.random() * tileMap.width);\n  var currentY = Math.floor(tileMap.random() * tileMap.height);\n  var cellsStack = [[currentX, currentY]]; // Start with a single cell in stack\n  var _loop = function _loop() {\n    var _cellsStack = _slicedToArray(cellsStack[cellsStack.length - 1], 2),\n      cx = _cellsStack[0],\n      cy = _cellsStack[1]; // Use the latest cell\n    var neighbors = [];\n\n    // Directions: N, S, E, W\n    var directions = [[0, -2], [0, 2], [2, 0], [-2, 0]];\n    directions.forEach(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n        dx = _ref2[0],\n        dy = _ref2[1];\n      var nx = cx + dx,\n        ny = cy + dy;\n      if (nx >= 0 && nx < tileMap.width && ny >= 0 && ny < tileMap.height && tileMap.data[ny * tileMap.width + nx] === wallTileId) {\n        neighbors.push([nx, ny]);\n      }\n    });\n    if (neighbors.length > 0) {\n      var randomIndex = Math.floor(tileMap.random() * neighbors.length);\n      var _neighbors$randomInde = _slicedToArray(neighbors[randomIndex], 2),\n        nextX = _neighbors$randomInde[0],\n        nextY = _neighbors$randomInde[1];\n      carvePassage(cx, cy, nextX, nextY);\n      cellsStack.push([nextX, nextY]);\n    } else {\n      cellsStack.pop(); // No neighbors found, backtrack\n    }\n  };\n  while (cellsStack.length > 0) {\n    _loop();\n  }\n}\n\n},{}],10:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = generateMap;\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction generateMap(tileMap, options) {\n  var stack = [];\n  var visited = Array.from({\n    length: tileMap.height\n  }, function () {\n    return Array(tileMap.width).fill(false);\n  });\n  var visitCell = function visitCell(x, y) {\n    visited[y][x] = true;\n    stack.push([x, y]);\n    while (stack.length > 0) {\n      var _stack = _slicedToArray(stack[stack.length - 1], 2),\n        cx = _stack[0],\n        cy = _stack[1];\n      var neighbors = getNeighbors(cx, cy);\n      if (neighbors.length > 0) {\n        var _neighbors$Math$floor = _slicedToArray(neighbors[Math.floor(tileMap.random(neighbors.length))], 2),\n          nx = _neighbors$Math$floor[0],\n          ny = _neighbors$Math$floor[1];\n        removeWall(cx, cy, nx, ny);\n        visited[ny][nx] = true;\n        stack.push([nx, ny]);\n      } else {\n        stack.pop();\n      }\n    }\n  };\n  var getNeighbors = function getNeighbors(x, y) {\n    var neighbors = [];\n    if (x > 0 && !visited[y][x - 1]) neighbors.push([x - 1, y]);\n    if (y > 0 && !visited[y - 1][x]) neighbors.push([x, y - 1]);\n    if (x < tileMap.width - 1 && !visited[y][x + 1]) neighbors.push([x + 1, y]);\n    if (y < tileMap.height - 1 && !visited[y + 1][x]) neighbors.push([x, y + 1]);\n    return neighbors;\n  };\n  var removeWall = function removeWall(x, y, nx, ny) {\n    var index1 = y * tileMap.width + x;\n    var index2 = ny * tileMap.width + nx;\n    tileMap.data[Math.min(index1, index2)] = 0; // Assuming 1 is a wall and 0 is an open path\n  };\n\n  // Start from a random cell\n  var startX = Math.floor(tileMap.random(tileMap.width));\n  var startY = Math.floor(tileMap.random(tileMap.height));\n  visitCell(startX, startY);\n}\n\n},{}],11:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = generateRecursiveDivisionMap;\n// RecursiveDivision.js - Marak Squires 2024\nfunction generateRecursiveDivisionMap(tileMap, options) {\n  var floorTileId = 1; // TODO: change to 0\n  var wallTileId = 0; // TODO: change to 1\n\n  tileMap.data.fill(floorTileId);\n  var addWalls = function addWalls(x1, y1, x2, y2) {\n    if (x2 - x1 < 2 || y2 - y1 < 2) return;\n    var horizontal = x2 - x1 < y2 - y1;\n    var wx = horizontal ? x1 : Math.floor(tileMap.random(x2 - x1 - 2)) + x1 + 1;\n    var wy = horizontal ? Math.floor(tileMap.random(y2 - y1 - 2)) + y1 + 1 : y1;\n    var px = horizontal ? Math.floor(tileMap.random(x2 - x1)) + x1 : wx;\n    var py = horizontal ? wy : Math.floor(tileMap.random(y2 - y1)) + y1;\n    for (var x = x1; x < x2; x++) {\n      for (var y = y1; y < y2; y++) {\n        if (horizontal && x === wx && y !== py || !horizontal && y === wy && x !== px) {\n          tileMap.data[y * tileMap.width + x] = wallTileId;\n        }\n      }\n    }\n    if (horizontal) {\n      addWalls(x1, y1, x2, wy);\n      addWalls(x1, wy, x2, y2);\n    } else {\n      addWalls(x1, y1, wx, y2);\n      addWalls(wx, y1, x2, y2);\n    }\n  };\n  addWalls(0, 0, tileMap.width, tileMap.height);\n}\n\n},{}],12:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = ALGORITHM_THOMAS_HUNTER;\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n/**\n * Originally written by Thomas Hunter II\n *\n * Originally written on June 12, 2013\n * Originally hosted at https://github.com/PhobosRising/javascript-roguelike-map-generator\n */\n\n//import { random } from './random.mjs';\n\n//const rand = require('../../utility/random/index.js');\n\nvar TILE = {\n  VOID: 0,\n  FLOOR: 1,\n  WALL: 2,\n  DOOR: 3,\n  SPECIAL_DOOR: 4,\n  ENTER: 5,\n  EXIT: 6\n};\nvar DEFAULT = {\n  WIDTH: 21,\n  HEIGHT: 21,\n  MIN_ROOM_WIDTH: 3,\n  MAX_ROOM_WIDTH: 7,\n  MIN_ROOM_HEIGHT: 3,\n  MAX_ROOM_HEIGHT: 7,\n  IDEAL_COUNT: 10,\n  RETRY_COUNT: 100\n};\n\n//var WALL_X = 0;\n//var WALL_Y = 1;\n\nvar ROOM_GAP = 1;\nvar Roguelike = /*#__PURE__*/function () {\n  function Roguelike() {\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    _classCallCheck(this, Roguelike);\n    if (!config) {\n      config = {};\n    }\n    if (!config.room) {\n      config.room = {};\n    }\n    this.max_width = config.width || DEFAULT.WIDTH;\n    this.max_height = config.height || DEFAULT.HEIGHT;\n    this.room_min_width = config.room.min_width || DEFAULT.MIN_ROOM_WIDTH;\n    this.room_max_width = config.room.max_width || DEFAULT.MAX_ROOM_WIDTH;\n    this.room_min_height = config.room.min_height || DEFAULT.MIN_ROOM_HEIGHT;\n    this.room_max_height = config.room.max_height || DEFAULT.MAX_ROOM_HEIGHT;\n    this.room_ideal_count = config.room.ideal || DEFAULT.IDEAL_COUNT;\n    this.retry_count = config.retry || DEFAULT.IDEAL_COUNT;\n    this.want_special = !!config.special;\n  }\n  _createClass(Roguelike, [{\n    key: \"render\",\n    value: function render() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var blt = arguments.length > 1 ? arguments[1] : undefined;\n      var built = blt || this.build();\n      var world = built.world;\n\n      //var end = new Date();\n\n      var result = '';\n      // Crude mechanism for drawing level\n      for (var y = 0; y < world.length; y++) {\n        var row = '';\n        for (var x = 0; x < world[y].length; x++) {\n          var tile = world[y][x];\n          if (tile === 0) {\n            row += ' ';\n          } else if (tile === 1) {\n            row += '.';\n          } else if (tile === 2) {\n            row += '#';\n          } else if (tile === 3) {\n            row += '/';\n          } else if (tile === 4) {\n            row += 'X';\n          } else if (tile === 5) {\n            row += '<';\n          } else if (tile === 6) {\n            row += '>';\n          } else {\n            row += world[y][x];\n          }\n        }\n        result += row + '\\n';\n        //console.log(row + '| ' + y);\n      }\n      return result;\n    }\n  }, {\n    key: \"build\",\n    value: function build(random) {\n      this.random = random ? random : function () {\n        return Math.random();\n      };\n      this.world = null; // 2D array representing the world\n      this.rooms = {}; // Object containing rooms where the key is the Room ID\n      this.doors = {}; // Object containing doors where the key is the Door ID\n      this.walls = []; // Array of all walls, where each items is an [X,Y] pair\n      this.enter = null; // {x, y, room_id} object pointing to level entrance\n      this.exit = null; // {x, y, room_id} object pointing to level exit\n      this.special = null; // {room_id, door_id} object pointing to special area\n      this.deadends = [];\n      this.room_id = 0;\n      this.door_id = 0;\n      this.createVoid();\n      this.addStarterRoom();\n      this.generateRooms();\n      this.addSpecialRooms();\n      this.buildWalls();\n      return {\n        width: this.max_width,\n        height: this.max_height,\n        enter: this.enter,\n        exit: this.exit,\n        deadends: this.deadends,\n        special: this.special,\n        door_count: this.door_id,\n        doors: this.doors,\n        room_count: this.room_id,\n        rooms: this.rooms,\n        walls: this.walls,\n        world: this.world\n      };\n    }\n\n    /**\n     * Creates a 2D array of VOID tiles\n     */\n  }, {\n    key: \"createVoid\",\n    value: function createVoid() {\n      var world = [];\n      for (var y = 0; y < this.max_height; y++) {\n        world[y] = [];\n        for (var x = 0; x < this.max_width; x++) {\n          world[y][x] = TILE.VOID;\n        }\n      }\n      this.world = world;\n    }\n  }, {\n    key: \"addStarterRoom\",\n    value: function addStarterRoom() {\n      var dimen = this.getRoomDimensions();\n      var min_left = ROOM_GAP;\n      var max_left = this.max_width - (dimen.width + ROOM_GAP * 2) + ROOM_GAP;\n      var min_top = ROOM_GAP;\n      var max_top = this.max_height - (dimen.height + ROOM_GAP * 2) + ROOM_GAP;\n      var left = this.randomOdd(min_left, max_left);\n      var top = this.randomOdd(min_top, max_top);\n      //console.log('starter', left, top, dimen.width, dimen.height)\n      this.addRoom(left, top, dimen.width, dimen.height);\n      //console.log('W', this.world)\n    }\n  }, {\n    key: \"getRoomDimensions\",\n    value: function getRoomDimensions() {\n      return {\n        width: this.randomOdd(this.room_min_width, this.room_max_width),\n        height: this.randomOdd(this.room_min_height, this.room_max_height)\n      };\n    }\n  }, {\n    key: \"addRoom\",\n    value: function addRoom(left, top, width, height) {\n      var room_id = this.room_id++;\n      this.rooms[room_id] = {\n        left: left,\n        top: top,\n        width: width,\n        height: height,\n        id: room_id,\n        walls: [],\n        neighbors: [],\n        doors: []\n      };\n      for (var y = top; y < top + height; y++) {\n        for (var x = left; x < left + width; x++) {\n          //console.log('f');\n          this.world[y][x] = TILE.FLOOR;\n        }\n      }\n      return room_id;\n    }\n\n    /**\n     * Adds one-off floors, e.g. for building hallways\n     */\n  }, {\n    key: \"addFloor\",\n    value: function addFloor(x, y) {\n      this.world[y][x] = TILE.FLOOR;\n    }\n  }, {\n    key: \"generateRooms\",\n    value: function generateRooms() {\n      var retries = this.retry_count;\n      while (this.room_id < this.room_ideal_count) {\n        //console.log('!')\n        if (!this.generateRoom() && --retries <= 0) {\n          break;\n        }\n      }\n    }\n\n    /**\n     * Attempts to add a single room to our world\n     *\n     * Pick a random cardinal direction\n     * Generate a room size\n     * Slide that room in until it bumps into another room\n     * Build a door that connects the two\n     */\n  }, {\n    key: \"generateRoom\",\n    value: function generateRoom() {\n      var slide = this.randomFn(0, 3); // North, East, South, West\n\n      var x_dir = slide === 1 ? +1 : slide === 3 ? -1 : 0;\n      var y_dir = slide === 0 ? +1 : slide === 2 ? -1 : 0;\n      var dimen = this.getRoomDimensions();\n      var top, left, name;\n      if (slide === 0) {\n        // Slide South from Top\n        name = 'south';\n        top = ROOM_GAP;\n        left = this.randomOdd(ROOM_GAP, this.max_width - dimen.width - ROOM_GAP * 2);\n      } else if (slide === 1) {\n        // Slide East from Left\n        name = 'east';\n        top = this.randomOdd(ROOM_GAP, this.max_height - dimen.height - ROOM_GAP * 2);\n        left = ROOM_GAP;\n      } else if (slide === 2) {\n        // Slide North from Bottom\n        name = 'north';\n        top = this.max_height - dimen.height - ROOM_GAP;\n        left = this.randomOdd(ROOM_GAP, this.max_width - dimen.width - ROOM_GAP * 2);\n      } else if (slide === 3) {\n        // Slide West from Right\n        //eslint-disable-next-line no-unused-vars\n        name = 'west';\n        top = this.randomOdd(ROOM_GAP, this.max_height - dimen.height - ROOM_GAP * 2);\n        left = this.max_width - dimen.width - ROOM_GAP;\n      }\n\n      //console.log(name, top, left)\n\n      // Our start position for adding a room overlaps with an existing one :(\n      if (false !== this.collides(top, left, dimen.width, dimen.height)) {\n        return false;\n      }\n      var collide_room = null;\n      while (false === (collide_room = this.collides(top + y_dir, left + x_dir, dimen.width, dimen.height))) {\n        top += y_dir;\n        left += x_dir;\n        //console.log(name, top, left)\n        // We slid the room out of bounds of the world\n        if (this.invalid(top, left, dimen.width, dimen.height)) {\n          //console.log('INVALID')\n          return false;\n        }\n      }\n      var new_room_id = this.addRoom(left, top, dimen.width, dimen.height);\n      //console.log('world', this.world);\n      this.addDoorBetweenRooms(x_dir, y_dir, collide_room, new_room_id);\n      return true;\n    }\n  }, {\n    key: \"collides\",\n    value: function collides(top, left, width, height) {\n      var target = {\n        top: top,\n        left: left,\n        width: width,\n        height: height\n      };\n      for (var i = 0; i < this.room_id; i++) {\n        var room = this.rooms[i];\n        /*console.log(target.left, room.left + room.width,\n            target.left + target.width , room.left,\n            target.top , room.top + room.height,\n            target.top + target.height , room.top)*/\n        if (!(target.left > room.left + room.width || target.left + target.width < room.left || target.top > room.top + room.height || target.top + target.height < room.top)) {\n          return room.id; // truthy int\n        }\n      }\n      return false;\n    }\n  }, {\n    key: \"invalid\",\n    value: function invalid(top, left, width, height) {\n      if (top <= ROOM_GAP) {\n        // Too far north\n        return true;\n      } else if (left <= ROOM_GAP) {\n        // Too far west\n        return true;\n      } else if (top + height >= this.max_height - ROOM_GAP) {\n        // Too far east\n        return true;\n      } else if (left + width >= this.max_width - ROOM_GAP) {\n        // Too far south\n        return true;\n      }\n\n      // A O.K.\n      return false;\n    }\n\n    /**\n     * Finds boundaries between floors and void, adding walls\n     */\n  }, {\n    key: \"buildWalls\",\n    value: function buildWalls() {\n      var rooms = this.rooms;\n      //var world = this.world;\n\n      // Do this for halls and rooms\n      for (var i = 0; i < this.room_id; i++) {\n        var room = rooms[i];\n\n        // Top Wall (Long)\n        for (var tx = room.left - 1; tx < room.left + room.width + 1; tx++) {\n          this.addWall(tx, room.top - 1, room);\n        }\n\n        // Right Wall (Short)\n        for (var ry = room.top; ry < room.top + room.height; ry++) {\n          this.addWall(room.left + room.width, ry, room);\n        }\n\n        // Bottom Wall (Long)\n        for (var bx = room.left - 1; bx < room.left + room.width + 1; bx++) {\n          this.addWall(bx, room.top + room.height, room);\n        }\n\n        // Left Wall (Short)\n        for (var ly = room.top; ly < room.top + room.height; ly++) {\n          this.addWall(room.left - 1, ly, room);\n        }\n      }\n    }\n  }, {\n    key: \"addWall\",\n    value: function addWall(x, y, room) {\n      // Walls should only appear once in the global walls list and world grid\n      if (this.world[y][x] === TILE.VOID) {\n        this.world[y][x] = TILE.WALL;\n        this.walls.push([x, y]);\n      }\n      if (this.world[y][x] === TILE.VOID || this.world[y][x] === TILE.WALL) {\n        room.walls.push([x, y]);\n      }\n    }\n  }, {\n    key: \"addDoorBetweenRooms\",\n    value: function addDoorBetweenRooms(x_dir, y_dir, existing_room_id, new_room_id) {\n      var existing_room = this.rooms[existing_room_id];\n      var new_room = this.rooms[new_room_id];\n      var x, y, orientation;\n      if (x_dir === 1) {\n        // eastward\n        x = existing_room.left - 1;\n        y = this.randomFn(Math.max(existing_room.top, new_room.top) + 1, Math.min(existing_room.top + existing_room.height, new_room.top + new_room.height) - 2);\n        orientation = 'h'; // horizontal\n      } else if (x_dir === -1) {\n        // stabbing westward\n        x = new_room.left - 1;\n        y = this.randomFn(Math.max(new_room.top, existing_room.top) + 1, Math.min(new_room.top + new_room.height, existing_room.top + existing_room.height) - 2);\n        orientation = 'h'; // horizontal\n      } else if (y_dir === -1) {\n        // northward\n        x = this.randomFn(Math.max(existing_room.left, new_room.left) + 1, Math.min(existing_room.left + existing_room.width, new_room.left + new_room.width) - 2);\n        y = new_room.top - 1;\n        orientation = 'v'; // vertical\n      } else if (y_dir === 1) {\n        // southward\n        x = this.randomFn(Math.max(new_room.left, existing_room.left) + 1, Math.min(new_room.left + new_room.width, existing_room.left + existing_room.width) - 2);\n        y = existing_room.top - 1;\n        orientation = 'v'; // vertical\n      }\n      this.addDoor(x, y, existing_room_id, new_room_id, orientation);\n      this.rooms[existing_room_id].neighbors.push(new_room_id);\n      this.rooms[new_room_id].neighbors.push(existing_room_id);\n    }\n\n    /**\n     * Add an entrance and exit to the level.\n     *\n     * Optionally adds a special room (could be hidden, a shop, etc.)\n     *\n     * We pick two random rooms with only a single attached neighbor.\n     * This ensures two adjacent rooms aren't entrance and exit.\n     */\n  }, {\n    key: \"addSpecialRooms\",\n    value: function addSpecialRooms() {\n      var deadends = [];\n      var smallest = {\n        id: null,\n        area: Infinity\n      };\n      var room, area;\n      for (var i = 0; i < this.room_id; i++) {\n        room = this.rooms[i];\n        if (room.neighbors.length === 1) {\n          this.rooms[i].deadend = true;\n          deadends.push(i);\n          area = room.width * room.height;\n          if (area < smallest.area) {\n            smallest.id = i;\n          }\n        }\n      }\n      if (this.want_special && deadends.length >= 2) {\n        // Enter + Exit + Special\n        var index = deadends.indexOf(smallest.id);\n        deadends.splice(index, 1);\n        var door_id = this.rooms[smallest.id].doors[0];\n        var room_id = smallest.id;\n        this.special = {\n          room_id: room_id,\n          door_id: door_id\n        };\n        var door = this.doors[door_id];\n        door.special = true;\n        this.rooms[room_id].special = true;\n        this.world[door.y][door.x] = TILE.SPECIAL_DOOR;\n      }\n      this.shuffle(deadends);\n      var enter_room_id = deadends.pop();\n      if (typeof enter_room_id === 'undefined') {\n        throw new Error('Unable to find a dead end room for Enter!');\n      }\n      var enter = this.randomNonEdgeInRoom(enter_room_id);\n      this.world[enter.y][enter.x] = TILE.ENTER;\n      this.enter = {\n        x: enter.x,\n        y: enter.y,\n        room_id: enter_room_id\n      };\n      this.rooms[enter_room_id].enter = true;\n      var enter_door = this.rooms[enter_room_id].doors[0];\n      this.doors[enter_door].enter = true;\n      var exit_room_id = deadends.pop();\n      if (typeof exit_room_id === 'undefined') {\n        throw new Error('Unable to find a dead end room for Exit!');\n      }\n      var exit = this.randomNonEdgeInRoom(exit_room_id);\n      this.world[exit.y][exit.x] = TILE.EXIT;\n      this.exit = {\n        x: exit.x,\n        y: exit.y,\n        room_id: exit_room_id\n      };\n      this.rooms[exit_room_id].exit = true;\n      var exit_door = this.rooms[exit_room_id].doors[0];\n      this.doors[exit_door].exit = true;\n      this.deadends = deadends;\n    }\n  }, {\n    key: \"randomNonEdgeInRoom\",\n    value: function randomNonEdgeInRoom(room_id) {\n      var room = this.rooms[room_id];\n      return {\n        x: this.randomFn(room.left + 1, room.left + room.width - 2),\n        y: this.randomFn(room.top + 1, room.top + room.height - 2)\n      };\n    }\n  }, {\n    key: \"addDoor\",\n    value: function addDoor(x, y, room1, room2, orientation) {\n      this.world[y][x] = TILE.DOOR;\n      var door_id = this.door_id++;\n      this.doors[door_id] = {\n        x: x,\n        y: y,\n        id: door_id,\n        orientation: orientation,\n        rooms: [room1, room2]\n      };\n      this.rooms[room1].doors.push(door_id);\n      this.rooms[room2].doors.push(door_id);\n      return door_id;\n    }\n\n    /**\n     * Pick a number between min and max, inclusive\n     * e.g. 1,7 => 1,2,3,4,5,6,7\n     */\n  }, {\n    key: \"randomFn\",\n    value: function randomFn(min_raw, max_raw) {\n      var min = Math.floor(min_raw);\n      var max = Math.floor(max_raw);\n      return Math.floor(this.random() * (max + 1 - min) + min);\n    }\n\n    /**\n     * Picks a random odd number between min and max, inclusive (if odd)\n     * e.g. 2,9 => 3,5,7,9\n     *\n     * TODO: Make this a one-liner\n     */\n  }, {\n    key: \"randomOdd\",\n    value: function randomOdd(min_raw, max_raw) {\n      // Convert them to integers\n      var min = Math.floor(min_raw);\n      var max = Math.floor(max_raw);\n\n      // Make them both Odd\n      if (min % 2 === 0) min++;\n      if (max % 2 === 0) max--;\n\n      // Shift down one, make them even\n      min -= 1;\n      max -= 1;\n\n      // Cut them in half\n      min /= 2;\n      max /= 2;\n      var r = this.random();\n      //console.log('R', r);\n      var result = Math.floor(r * (max + 1 - min) + min);\n      result *= 2;\n      result += 1;\n      return result;\n    }\n  }, {\n    key: \"shuffle\",\n    value: function shuffle(o) {\n      for (var j, x, i = o.length; i; j = Math.floor(this.random() * i), x = o[--i], o[i] = o[j], o[j] = x);\n    }\n  }]);\n  return Roguelike;\n}();\nfunction ALGORITHM_THOMAS_HUNTER(tileMap, options) {\n  tileMap.fill(1); // Fill with walls\n  var visitedCells = 0;\n  var totalCells = tileMap.width * tileMap.height / 4; // Assumes a grid where every other cell is open\n  var fractional = Math.sqrt(Math.max(tileMap.width, tileMap.height));\n  if (fractional % 2 !== 1) fractional++;\n  var roomNumber = tileMap.width / fractional * tileMap.width / fractional / 2;\n  var generator = new Roguelike({\n    width: tileMap.width,\n    // Max Width of the world\n    height: tileMap.height,\n    // Max Height of the world\n    retry: 100,\n    // How many times should we try to add a room?\n    special: true,\n    // Should we generate a \"special\" room?\n    room: {\n      // Give up once we get this number of rooms\n      ideal: options.roomCount || roomNumber,\n      min_width: options.roomMinWidth || fractional - 2,\n      max_width: options.roomMaxWidth || fractional + 2,\n      min_height: options.roomMinHeight || fractional - 2,\n      max_height: options.roomMinHeight || fractional + 2\n    }\n  });\n  var built = generator.build(function () {\n    return tileMap.mersenneTwister.rand();\n  });\n\n  //console.log(built.world.map((line)=>line.join('')).join('\\n'));\n  var flattened = built.world.reduce(function (agg, line) {\n    return agg.concat(line);\n  }, []);\n  for (var lcv = 0; lcv < tileMap.data.length; lcv++) {\n    tileMap.data[lcv] = flattened[lcv];\n  }\n}\n\n},{}],13:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = SHAPE_CIRCLE;\nfunction SHAPE_CIRCLE(tileMap, options) {\n  tileMap.fill(1);\n  var radius = Math.min(tileMap.width, tileMap.height) / 2;\n  var centerX = tileMap.width / 2;\n  var centerY = tileMap.height / 2;\n  for (var y = 0; y < tileMap.height; y++) {\n    for (var x = 0; x < tileMap.width; x++) {\n      if (Math.pow(x - centerX, 2) + Math.pow(y - centerY, 2) <= Math.pow(radius, 2)) {\n        tileMap.data[y * tileMap.width + x] = 0;\n      }\n    }\n  }\n}\n\n},{}],14:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = SHAPE_SQUARE;\nfunction SHAPE_SQUARE(tileMap, options) {\n  tileMap.fill(0); // Filling the map with empty tiles\n  var size = Math.min(tileMap.width, tileMap.height);\n  var startX = Math.floor((tileMap.width - size) / 2);\n  var startY = Math.floor((tileMap.height - size) / 2);\n  for (var y = startY; y < startY + size; y++) {\n    for (var x = startX; x < startX + size; x++) {\n      tileMap.data[y * tileMap.width + x] = 1; // Fill with a different tile\n    }\n  }\n}\n\n},{}],15:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = SHAPE_TRIANGLE;\nfunction SHAPE_TRIANGLE(tileMap, options) {\n  tileMap.fill(0);\n  var height = tileMap.height;\n  var width = tileMap.width;\n  for (var y = 0; y < height; y++) {\n    for (var x = 0; x <= y; x++) {\n      tileMap.data[y * width + x] = 1;\n    }\n  }\n}\n\n},{}],16:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = generateFaultLineMap;\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction generateFaultLineMap(tileMap, options) {\n  var iterations = options.iterations || 100;\n  var heightIncrease = options.heightIncrease || 0.01;\n\n  // Initialize the height map\n  var heightMap = new Array(tileMap.width * tileMap.height).fill(0);\n  for (var i = 0; i < iterations; i++) {\n    // Randomly create a fault line using tileMap.random()\n    var a = tileMap.random() - 0.5;\n    var b = tileMap.random() - 0.5;\n    var d = tileMap.random();\n\n    // Adjust the height on one side of the fault line\n    for (var y = 0; y < tileMap.height; y++) {\n      for (var x = 0; x < tileMap.width; x++) {\n        if (a * x + b * y - d > 0) {\n          heightMap[y * tileMap.width + x] += heightIncrease;\n        }\n      }\n    }\n  }\n\n  // Normalize and apply to tileMap\n  applyHeightToTileMap(tileMap, heightMap);\n}\nfunction applyHeightToTileMap(tileMap, heightMap) {\n  var max = Math.max.apply(Math, _toConsumableArray(heightMap));\n  var min = Math.min.apply(Math, _toConsumableArray(heightMap));\n  for (var i = 0; i < heightMap.length; i++) {\n    // Normalize the height values\n    var normalizedHeight = (heightMap[i] - min) / (max - min);\n    tileMap.data[i] = normalizedHeight;\n  }\n}\n\n},{}],17:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = generatePerlinNoiseMap;\nfunction generatePerlinNoiseMap(tileMap, options) {\n  var scale = options.scale || 0.1; // Determines the \"zoom level\" of the noise\n\n  for (var y = 0; y < tileMap.height; y++) {\n    for (var x = 0; x < tileMap.width; x++) {\n      // Generate Perlin noise value for each tile\n      var noiseValue = tileMap.noise(x * scale, y * scale);\n\n      // Optionally transform noiseValue here to suit your needs\n\n      // Assign noise value to tileMap data\n      tileMap.data[y * tileMap.width + x] = noiseValue;\n    }\n  }\n}\n\n},{}],18:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n// this program is a JavaScript version of Mersenne Twister, with concealment and encapsulation in class,\n// an almost straight conversion from the original program, mt19937ar.c,\n// translated by y. okada on July 17, 2006.\n// and modified a little at july 20, 2006, but there are not any substantial differences.\n// in this program, procedure descriptions and comments of original source code were not removed.\n// lines commented with //c// were originally descriptions of c procedure. and a few following lines are appropriate JavaScript descriptions.\n// lines commented with /* and */ are original comments.\n// lines commented with // are additional comments in this JavaScript version.\n// before using this version, create at least one instance of MersenneTwister19937 class, and initialize the each state, given below in c comments, of all the instances.\n/*\n   A C-program for MT19937, with initialization improved 2002/1/26.\n   Coded by Takuji Nishimura and Makoto Matsumoto.\n\n   Before using, initialize the state by using init_genrand(seed)\n   or init_by_array(init_key, key_length).\n\n   Copyright (C) 1997 - 2002, Makoto Matsumoto and Takuji Nishimura,\n   All rights reserved.\n\n   Redistribution and use in source and binary forms, with or without\n   modification, are permitted provided that the following conditions\n   are met:\n\n     1. Redistributions of source code must retain the above copyright\n        notice, this list of conditions and the following disclaimer.\n\n     2. Redistributions in binary form must reproduce the above copyright\n        notice, this list of conditions and the following disclaimer in the\n        documentation and/or other materials provided with the distribution.\n\n     3. The names of its contributors may not be used to endorse or promote\n        products derived from this software without specific prior written\n        permission.\n\n   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n   \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n   LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n   A PARTICULAR PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR\n   CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n   EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n   PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n   PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n   LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n   NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n   SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\n\n   Any feedback is very welcome.\n   http://www.math.sci.hiroshima-u.ac.jp/~m-mat/MT/emt.html\n   email: m-mat @ math.sci.hiroshima-u.ac.jp (remove space)\n*/\n\nfunction MersenneTwister19937() {\n  /* constants should be scoped inside the class */\n  var N, M, MATRIX_A, UPPER_MASK, LOWER_MASK;\n  /* Period parameters */\n  //c//#define N 624\n  //c//#define M 397\n  //c//#define MATRIX_A 0x9908b0dfUL   /* constant vector a */\n  //c//#define UPPER_MASK 0x80000000UL /* most significant w-r bits */\n  //c//#define LOWER_MASK 0x7fffffffUL /* least significant r bits */\n  N = 624;\n  M = 397;\n  MATRIX_A = 0x9908b0df; /* constant vector a */\n  UPPER_MASK = 0x80000000; /* most significant w-r bits */\n  LOWER_MASK = 0x7fffffff; /* least significant r bits */\n  //c//static unsigned long mt[N]; /* the array for the state vector  */\n  //c//static int mti=N+1; /* mti==N+1 means mt[N] is not initialized */\n  var mt = new Array(N); /* the array for the state vector  */\n  var mti = N + 1; /* mti==N+1 means mt[N] is not initialized */\n\n  function unsigned32(n1)\n  // returns a 32-bits unsiged integer from an operand to which applied a bit operator.\n  {\n    return n1 < 0 ? (n1 ^ UPPER_MASK) + UPPER_MASK : n1;\n  }\n  function subtraction32(n1, n2)\n  // emulates lowerflow of a c 32-bits unsiged integer variable, instead of the operator -. these both arguments must be non-negative integers expressible using unsigned 32 bits.\n  {\n    return n1 < n2 ? unsigned32(0x100000000 - (n2 - n1) & 0xffffffff) : n1 - n2;\n  }\n  function addition32(n1, n2)\n  // emulates overflow of a c 32-bits unsiged integer variable, instead of the operator +. these both arguments must be non-negative integers expressible using unsigned 32 bits.\n  {\n    return unsigned32(n1 + n2 & 0xffffffff);\n  }\n  function multiplication32(n1, n2)\n  // emulates overflow of a c 32-bits unsiged integer variable, instead of the operator *. these both arguments must be non-negative integers expressible using unsigned 32 bits.\n  {\n    var sum = 0;\n    for (var i = 0; i < 32; ++i) {\n      if (n1 >>> i & 0x1) {\n        sum = addition32(sum, unsigned32(n2 << i));\n      }\n    }\n    return sum;\n  }\n\n  /* initializes mt[N] with a seed */\n  //c//void init_genrand(unsigned long s)\n  this.init_genrand = function (s) {\n    //c//mt[0]= s & 0xffffffff;\n    mt[0] = unsigned32(s & 0xffffffff);\n    for (mti = 1; mti < N; mti++) {\n      mt[mti] =\n      //c//(1812433253 * (mt[mti-1] ^ (mt[mti-1] >> 30)) + mti);\n      addition32(multiplication32(1812433253, unsigned32(mt[mti - 1] ^ mt[mti - 1] >>> 30)), mti);\n      /* See Knuth TAOCP Vol2. 3rd Ed. P.106 for multiplier. */\n      /* In the previous versions, MSBs of the seed affect   */\n      /* only MSBs of the array mt[].                        */\n      /* 2002/01/09 modified by Makoto Matsumoto             */\n      //c//mt[mti] &= 0xffffffff;\n      mt[mti] = unsigned32(mt[mti] & 0xffffffff);\n      /* for >32 bit machines */\n    }\n  };\n\n  /* initialize by an array with array-length */\n  /* init_key is the array for initializing keys */\n  /* key_length is its length */\n  /* slight change for C++, 2004/2/26 */\n  //c//void init_by_array(unsigned long init_key[], int key_length)\n  this.init_by_array = function (init_key, key_length) {\n    //c//int i, j, k;\n    var i, j, k;\n    //c//init_genrand(19650218);\n    this.init_genrand(19650218);\n    i = 1;\n    j = 0;\n    k = N > key_length ? N : key_length;\n    for (; k; k--) {\n      //c//mt[i] = (mt[i] ^ ((mt[i-1] ^ (mt[i-1] >> 30)) * 1664525))\n      //c//\t+ init_key[j] + j; /* non linear */\n      mt[i] = addition32(addition32(unsigned32(mt[i] ^ multiplication32(unsigned32(mt[i - 1] ^ mt[i - 1] >>> 30), 1664525)), init_key[j]), j);\n      mt[i] =\n      //c//mt[i] &= 0xffffffff; /* for WORDSIZE > 32 machines */\n      unsigned32(mt[i] & 0xffffffff);\n      i++;\n      j++;\n      if (i >= N) {\n        mt[0] = mt[N - 1];\n        i = 1;\n      }\n      if (j >= key_length) {\n        j = 0;\n      }\n    }\n    for (k = N - 1; k; k--) {\n      //c//mt[i] = (mt[i] ^ ((mt[i-1] ^ (mt[i-1] >> 30)) * 1566083941))\n      //c//- i; /* non linear */\n      mt[i] = subtraction32(unsigned32((dbg = mt[i]) ^ multiplication32(unsigned32(mt[i - 1] ^ mt[i - 1] >>> 30), 1566083941)), i);\n      //c//mt[i] &= 0xffffffff; /* for WORDSIZE > 32 machines */\n      mt[i] = unsigned32(mt[i] & 0xffffffff);\n      i++;\n      if (i >= N) {\n        mt[0] = mt[N - 1];\n        i = 1;\n      }\n    }\n    mt[0] = 0x80000000; /* MSB is 1; assuring non-zero initial array */\n  };\n\n  /* moved outside of genrand_int32() by jwatte 2010-11-17; generate less garbage */\n  var mag01 = [0x0, MATRIX_A];\n\n  /* generates a random number on [0,0xffffffff]-interval */\n  //c//unsigned long genrand_int32(void)\n  this.genrand_int32 = function () {\n    //c//unsigned long y;\n    //c//static unsigned long mag01[2]={0x0UL, MATRIX_A};\n    var y;\n    /* mag01[x] = x * MATRIX_A  for x=0,1 */\n\n    if (mti >= N) {\n      /* generate N words at one time */\n      //c//int kk;\n      var kk;\n      if (mti == N + 1) /* if init_genrand() has not been called, */\n        //c//init_genrand(5489); /* a default initial seed is used */\n        {\n          this.init_genrand(5489);\n        } /* a default initial seed is used */\n\n      for (kk = 0; kk < N - M; kk++) {\n        //c//y = (mt[kk]&UPPER_MASK)|(mt[kk+1]&LOWER_MASK);\n        //c//mt[kk] = mt[kk+M] ^ (y >> 1) ^ mag01[y & 0x1];\n        y = unsigned32(mt[kk] & UPPER_MASK | mt[kk + 1] & LOWER_MASK);\n        mt[kk] = unsigned32(mt[kk + M] ^ y >>> 1 ^ mag01[y & 0x1]);\n      }\n      for (; kk < N - 1; kk++) {\n        //c//y = (mt[kk]&UPPER_MASK)|(mt[kk+1]&LOWER_MASK);\n        //c//mt[kk] = mt[kk+(M-N)] ^ (y >> 1) ^ mag01[y & 0x1];\n        y = unsigned32(mt[kk] & UPPER_MASK | mt[kk + 1] & LOWER_MASK);\n        mt[kk] = unsigned32(mt[kk + (M - N)] ^ y >>> 1 ^ mag01[y & 0x1]);\n      }\n      //c//y = (mt[N-1]&UPPER_MASK)|(mt[0]&LOWER_MASK);\n      //c//mt[N-1] = mt[M-1] ^ (y >> 1) ^ mag01[y & 0x1];\n      y = unsigned32(mt[N - 1] & UPPER_MASK | mt[0] & LOWER_MASK);\n      mt[N - 1] = unsigned32(mt[M - 1] ^ y >>> 1 ^ mag01[y & 0x1]);\n      mti = 0;\n    }\n    y = mt[mti++];\n\n    /* Tempering */\n    //c//y ^= (y >> 11);\n    //c//y ^= (y << 7) & 0x9d2c5680;\n    //c//y ^= (y << 15) & 0xefc60000;\n    //c//y ^= (y >> 18);\n    y = unsigned32(y ^ y >>> 11);\n    y = unsigned32(y ^ y << 7 & 0x9d2c5680);\n    y = unsigned32(y ^ y << 15 & 0xefc60000);\n    y = unsigned32(y ^ y >>> 18);\n    return y;\n  };\n\n  /* generates a random number on [0,0x7fffffff]-interval */\n  //c//long genrand_int31(void)\n  this.genrand_int31 = function () {\n    //c//return (genrand_int32()>>1);\n    return this.genrand_int32() >>> 1;\n  };\n\n  /* generates a random number on [0,1]-real-interval */\n  //c//double genrand_real1(void)\n  this.genrand_real1 = function () {\n    //c//return genrand_int32()*(1.0/4294967295.0);\n    return this.genrand_int32() * (1.0 / 4294967295.0);\n    /* divided by 2^32-1 */\n  };\n\n  /* generates a random number on [0,1)-real-interval */\n  //c//double genrand_real2(void)\n  this.genrand_real2 = function () {\n    //c//return genrand_int32()*(1.0/4294967296.0);\n    return this.genrand_int32() * (1.0 / 4294967296.0);\n    /* divided by 2^32 */\n  };\n\n  /* generates a random number on (0,1)-real-interval */\n  //c//double genrand_real3(void)\n  this.genrand_real3 = function () {\n    //c//return ((genrand_int32()) + 0.5)*(1.0/4294967296.0);\n    return (this.genrand_int32() + 0.5) * (1.0 / 4294967296.0);\n    /* divided by 2^32 */\n  };\n\n  /* generates a random number on [0,1) with 53-bit resolution*/\n  //c//double genrand_res53(void)\n  this.genrand_res53 = function () {\n    //c//unsigned long a=genrand_int32()>>5, b=genrand_int32()>>6;\n    var a = this.genrand_int32() >>> 5,\n      b = this.genrand_int32() >>> 6;\n    return (a * 67108864.0 + b) * (1.0 / 9007199254740992.0);\n  };\n  /* These real versions are due to Isaku Wada, 2002/01/09 added */\n}\n\n//  Exports: Public API\n\n//  Export the twister class\n//exports.MersenneTwister19937 = MersenneTwister19937;\nvar _default = exports[\"default\"] = MersenneTwister19937;\n\n},{}],19:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = generateTiledJSON;\nfunction generateTiledJSON(tileMap) {\n  var tiledJSON = {\n    \"compressionlevel\": -1,\n    \"height\": tileMap.height,\n    \"infinite\": false,\n    \"layers\": [{\n      \"data\": tileMap.data,\n      \"height\": tileMap.height,\n      \"id\": 1,\n      \"name\": \"Tile Layer 1\",\n      \"opacity\": 1,\n      \"type\": \"tilelayer\",\n      \"visible\": true,\n      \"width\": tileMap.width,\n      \"x\": 0,\n      \"y\": 0\n    }],\n    /* infinite style map with chunks \n      \"editorsettings\": {\n        \"chunksize\": {\n          \"height\": 8,\n          \"width\": 8\n        }\n      },\n       \"layers\": [{\n        \"chunks\": [{\n          \"data\": tileMap.data,  // Your tileMap data\n          \"height\": tileMap.height,\n          \"width\": tileMap.width,\n          \"x\": 0,\n          \"y\": 0\n        }],\n        \"height\": tileMap.height,\n        \"name\": \"Tile Layer 1\",\n        \"opacity\": 1,\n        \"startx\": 0,\n        \"starty\": 0,\n        \"type\": \"tilelayer\",\n        \"visible\": true,\n        \"width\": tileMap.width,\n        \"x\": 0,\n        \"y\": 0\n      }],\n      */\n    \"nextlayerid\": 2,\n    \"nextobjectid\": 1,\n    \"orientation\": \"orthogonal\",\n    \"renderorder\": \"right-down\",\n    \"tiledversion\": \"1.10.2\",\n    \"tileheight\": 16,\n    \"tilesets\": [{\n      \"columns\": 0,\n      \"firstgid\": 1,\n      \"grid\": {\n        \"height\": 1,\n        \"orientation\": \"orthogonal\",\n        \"width\": 1\n      },\n      \"margin\": 0,\n      \"name\": \"grass-land\",\n      \"spacing\": 0,\n      \"tilecount\": 2,\n      \"tileheight\": 16,\n      \"tiles\": [\n      // TODO: custom tile set mappings\n      {\n        \"id\": 0,\n        \"image\": \"tile-bush.png\",\n        \"imageheight\": 16,\n        \"imagewidth\": 16\n      }, {\n        \"id\": 1,\n        \"image\": \"tile-grass.png\",\n        \"imageheight\": 16,\n        \"imagewidth\": 16\n      }, {\n        \"id\": 2,\n        \"image\": \"tile-block.png\",\n        \"imageheight\": 16,\n        \"imagewidth\": 16\n      }, {\n        \"id\": 3,\n        \"image\": \"tile-path-brown.png\",\n        \"imageheight\": 16,\n        \"imagewidth\": 16\n      }, {\n        \"id\": 4,\n        \"image\": \"tile-path-green.png\",\n        \"imageheight\": 16,\n        \"imagewidth\": 16\n      }],\n      \"tilewidth\": 16\n    }],\n    \"tilewidth\": 16,\n    \"type\": \"map\",\n    \"version\": \"1.10\",\n    \"width\": tileMap.width\n    // Add your tilesets and other necessary properties here\n  };\n  return tiledJSON;\n}\n\n},{}],20:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _MersenneTwister = _interopRequireDefault(require(\"./MersenneTwister19937.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); } // var Gen = require('../vendor/mersenne').MersenneTwister19937;\nfunction Mersenne() {\n  var gen = new _MersenneTwister[\"default\"]();\n  var seed = new Date().getTime() % 1000000000;\n  this.currentSeed = seed;\n  gen.init_genrand(seed);\n  this.rand = function (max, min) {\n    if (typeof max === 'undefined') {\n      return gen.genrand_real2(); // Returns a floating-point number between 0 and 1\n    }\n    if (typeof min === 'undefined') {\n      min = 0;\n    }\n    return Math.floor(gen.genrand_real2() * (max - min) + min);\n  };\n  this.seed = function (S) {\n    if (typeof S != 'number') {\n      throw new Error(\"seed(S) must take numeric argument; is \" + _typeof(S));\n    }\n    this.currentSeed = S;\n    gen.init_genrand(S);\n  };\n  this.seed_array = function (A) {\n    if (_typeof(A) != 'object') {\n      throw new Error(\"seed_array(A) must take array of numbers; is \" + _typeof(A));\n    }\n    this.currentSeed = A;\n    gen.init_by_array(A, A.length);\n  };\n}\nvar _default = exports[\"default\"] = Mersenne;\n\n},{\"./MersenneTwister19937.js\":18}],21:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n//////////////////////////////////////////////////////////////\n// From p5.js - LGPL-2.1 license\n// https://github.com/processing/p5.js\n// https://github.com/processing/p5.js/blob/3d45ce9b130a007668bfac7768fbcdd6b8ff41ec/src/math/noise.js\n// http://mrl.nyu.edu/~perlin/noise/\n// Adapting from PApplet.java\n// which was adapted from toxi\n// which was adapted from the german demo group farbrausch\n// as used in their demo \"art\": http://www.farb-rausch.de/fr010src.zip\n\n// someday we might consider using \"improved noise\"\n// http://mrl.nyu.edu/~perlin/paper445.pdf\n// See: https://github.com/shiffman/The-Nature-of-Code-Examples-p5.js/\n//      blob/main/introduction/Noise1D/noise.js\n\n/**\n * @module Math\n * @submodule Noise\n * @for p5\n * @requires core\n */\n\nvar p5 = function p5() {};\nvar PERLIN_YWRAPB = 4;\nvar PERLIN_YWRAP = 1 << PERLIN_YWRAPB;\nvar PERLIN_ZWRAPB = 8;\nvar PERLIN_ZWRAP = 1 << PERLIN_ZWRAPB;\nvar PERLIN_SIZE = 4095;\nvar perlin_octaves = 4; // default to medium smooth\nvar perlin_amp_falloff = 0.5; // 50% reduction/octave\n\nvar scaled_cosine = function scaled_cosine(i) {\n  return 0.5 * (1.0 - Math.cos(i * Math.PI));\n};\nvar perlin; // will be initialized lazily by noise() or noiseSeed()\n\n/**\n * Returns random numbers that can be tuned to feel more organic. The values\n * returned will always be between 0 and 1.\n *\n * Values returned by <a href=\"#/p5/random\">random()</a> and\n * <a href=\"#/p5/randomGaussian\">randomGaussian()</a> can change by large\n * amounts between function calls. By contrast, values returned by `noise()`\n * can be made \"smooth\". Calls to `noise()` with similar inputs will produce\n * similar outputs. `noise()` is used to create textures, motion, shapes,\n * terrains, and so on. Ken Perlin invented `noise()` while animating the\n * original <em>Tron</em> film in the 1980s.\n *\n * `noise()` returns the same value for a given input while a sketch is\n * running. It produces different results each time a sketch runs. The\n * <a href=\"#/p5/noiseSeed\">noiseSeed()</a> function can be used to generate\n * the same sequence of Perlin noise values each time a sketch runs.\n *\n * The character of the noise can be adjusted in two ways. The first way is to\n * scale the inputs. `noise()` interprets inputs as coordinates. The sequence\n * of noise values will be smoother when the input coordinates are closer. The\n * second way is to use the <a href=\"#/p5/noiseDetail\">noiseDetail()</a>\n * function.\n *\n * The version of `noise()` with one parameter computes noise values in one\n * dimension. This dimension can be thought of as space, as in `noise(x)`, or\n * time, as in `noise(t)`.\n *\n * The version of `noise()` with two parameters computes noise values in two\n * dimensions. These dimensions can be thought of as space, as in\n * `noise(x, y)`, or space and time, as in `noise(x, t)`.\n *\n * The version of `noise()` with three parameters computes noise values in\n * three dimensions. These dimensions can be thought of as space, as in\n * `noise(x, y, z)`, or space and time, as in `noise(x, y, t)`.\n *\n * @method noise\n * @param  {Number} x   x-coordinate in noise space.\n * @param  {Number} [y] y-coordinate in noise space.\n * @param  {Number} [z] z-coordinate in noise space.\n * @return {Number}     Perlin noise value at specified coordinates.\n * @example\n * <div>\n * <code>\n * function draw() {\n *   background(200);\n *\n *   let x = 100 * noise(0.005 * frameCount);\n *   let y = 100 * noise(0.005 * frameCount + 10000);\n *\n *   strokeWeight(5);\n *   point(x, y);\n *\n *   describe('A black dot moves randomly on a gray square.');\n * }\n * </code>\n * </div>\n *\n * <div>\n * <code>\n * function draw() {\n *   background(200);\n *\n *   let noiseLevel = 100;\n *   let noiseScale = 0.005;\n *   // Scale input coordinate.\n *   let nt = noiseScale * frameCount;\n *   // Compute noise value.\n *   let x = noiseLevel * noise(nt);\n *   let y = noiseLevel * noise(nt + 10000);\n *   // Render.\n *   strokeWeight(5);\n *   point(x, y);\n *\n *   describe('A black dot moves randomly on a gray square.');\n * }\n * </code>\n * </div>\n *\n * <div>\n * <code>\n * function draw() {\n *   let noiseLevel = 100;\n *   let noiseScale = 0.02;\n *   // Scale input coordinate.\n *   let x = frameCount;\n *   let nx = noiseScale * x;\n *   // Compute noise value.\n *   let y = noiseLevel * noise(nx);\n *   // Render.\n *   line(x, 0, x, y);\n *\n *   describe('A hilly terrain drawn in gray against a black sky.');\n * }\n * </code>\n * </div>\n *\n * <div>\n * <code>\n * function draw() {\n *   background(200);\n *\n *   let noiseLevel = 100;\n *   let noiseScale = 0.002;\n *   for (let x = 0; x < width; x += 1) {\n *     // Scale input coordinates.\n *     let nx = noiseScale * x;\n *     let nt = noiseScale * frameCount;\n *     // Compute noise value.\n *     let y = noiseLevel * noise(nx, nt);\n *     // Render.\n *     line(x, 0, x, y);\n *   }\n *\n *   describe('A calm sea drawn in gray against a black sky.');\n * }\n * </code>\n * </div>\n *\n * <div>\n * <code>\n * let noiseLevel = 255;\n * let noiseScale = 0.01;\n * for (let y = 0; y < height; y += 1) {\n *   for (let x = 0; x < width; x += 1) {\n *     // Scale input coordinates.\n *     let nx = noiseScale * x;\n *     let ny = noiseScale * y;\n *     // Compute noise value.\n *     let c = noiseLevel * noise(nx, ny);\n *     // Render.\n *     stroke(c);\n *     point(x, y);\n *   }\n * }\n *\n * describe('A gray cloudy pattern.');\n * </code>\n * </div>\n *\n * <div>\n * <code>\n * function draw() {\n *   let noiseLevel = 255;\n *   let noiseScale = 0.009;\n *   for (let y = 0; y < height; y += 1) {\n *     for (let x = 0; x < width; x += 1) {\n *       // Scale input coordinates.\n *       let nx = noiseScale * x;\n *       let ny = noiseScale * y;\n *       let nt = noiseScale * frameCount;\n *       // Compute noise value.\n *       let c = noiseLevel * noise(nx, ny, nt);\n *       // Render.\n *       stroke(c);\n *       point(x, y);\n *     }\n *   }\n *\n *   describe('A gray cloudy pattern that changes.');\n * }\n * </code>\n * </div>\n */\n\np5.prototype.noise = function () {\n  var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var z = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  if (perlin == null) {\n    perlin = new Array(PERLIN_SIZE + 1);\n    for (var i = 0; i < PERLIN_SIZE + 1; i++) {\n      perlin[i] = Math.random();\n    }\n  }\n  if (x < 0) {\n    x = -x;\n  }\n  if (y < 0) {\n    y = -y;\n  }\n  if (z < 0) {\n    z = -z;\n  }\n  var xi = Math.floor(x),\n    yi = Math.floor(y),\n    zi = Math.floor(z);\n  var xf = x - xi;\n  var yf = y - yi;\n  var zf = z - zi;\n  var rxf, ryf;\n  var r = 0;\n  var ampl = 0.5;\n  var n1, n2, n3;\n  for (var o = 0; o < perlin_octaves; o++) {\n    var of = xi + (yi << PERLIN_YWRAPB) + (zi << PERLIN_ZWRAPB);\n    rxf = scaled_cosine(xf);\n    ryf = scaled_cosine(yf);\n    n1 = perlin[of & PERLIN_SIZE];\n    n1 += rxf * (perlin[of + 1 & PERLIN_SIZE] - n1);\n    n2 = perlin[of + PERLIN_YWRAP & PERLIN_SIZE];\n    n2 += rxf * (perlin[of + PERLIN_YWRAP + 1 & PERLIN_SIZE] - n2);\n    n1 += ryf * (n2 - n1);\n    of += PERLIN_ZWRAP;\n    n2 = perlin[of & PERLIN_SIZE];\n    n2 += rxf * (perlin[of + 1 & PERLIN_SIZE] - n2);\n    n3 = perlin[of + PERLIN_YWRAP & PERLIN_SIZE];\n    n3 += rxf * (perlin[of + PERLIN_YWRAP + 1 & PERLIN_SIZE] - n3);\n    n2 += ryf * (n3 - n2);\n    n1 += scaled_cosine(zf) * (n2 - n1);\n    r += n1 * ampl;\n    ampl *= perlin_amp_falloff;\n    xi <<= 1;\n    xf *= 2;\n    yi <<= 1;\n    yf *= 2;\n    zi <<= 1;\n    zf *= 2;\n    if (xf >= 1.0) {\n      xi++;\n      xf--;\n    }\n    if (yf >= 1.0) {\n      yi++;\n      yf--;\n    }\n    if (zf >= 1.0) {\n      zi++;\n      zf--;\n    }\n  }\n  return r;\n};\n\n/**\n * Adjusts the character of the noise produced by the\n * <a href=\"#/p5/noise\">noise()</a> function.\n *\n * Perlin noise values are created by adding layers of noise together. The\n * noise layers, called octaves, are similar to harmonics in music. Lower\n * octaves contribute more to the output signal. They define the overall\n * intensity of the noise. Higher octaves create finer-grained details.\n *\n * By default, noise values are created by combining four octaves. Each higher\n * octave contributes half as much (50% less) compared to its predecessor.\n * `noiseDetail()` changes the number of octaves and the falloff amount. For\n * example, calling `noiseDetail(6, 0.25)` ensures that\n * <a href=\"#/p5/noise\">noise()</a> will use six octaves. Each higher octave\n * will contribute 25% as much (75% less) compared to its predecessor. Falloff\n * values between 0 and 1 are valid. However, falloff values greater than 0.5\n * might result in noise values greater than 1.\n *\n * @method noiseDetail\n * @param {Number} lod number of octaves to be used by the noise.\n * @param {Number} falloff falloff factor for each octave.\n * @example\n * <div>\n * <code>\n * let noiseLevel = 255;\n * let noiseScale = 0.02;\n * for (let y = 0; y < height; y += 1) {\n *   for (let x = 0; x < width / 2; x += 1) {\n *     // Scale input coordinates.\n *     let nx = noiseScale * x;\n *     let ny = noiseScale * y;\n *\n *     // Compute noise value.\n *     noiseDetail(6, 0.25);\n *     let c = noiseLevel * noise(nx, ny);\n *     // Render left side.\n *     stroke(c);\n *     point(x, y);\n *\n *     // Compute noise value.\n *     noiseDetail(4, 0.5);\n *     c = noiseLevel * noise(nx, ny);\n *     // Render right side.\n *     stroke(c);\n *     point(x + width / 2, y);\n *   }\n * }\n *\n * describe('Two gray cloudy patterns. The pattern on the right is cloudier than the pattern on the left.');\n * </code>\n * </div>\n */\np5.prototype.noiseDetail = function (lod, falloff) {\n  if (lod > 0) {\n    perlin_octaves = lod;\n  }\n  if (falloff > 0) {\n    perlin_amp_falloff = falloff;\n  }\n};\n\n/**\n * Sets the seed value for <a href=\"#/p5/noise\">noise()</a>. By default,\n * <a href=\"#/p5/noise\">noise()</a> produces different results each time\n * a sketch is run. Calling `noiseSeed()` with a constant\n * argument, such as `noiseSeed(99)`, makes <a href=\"#/p5/noise\">noise()</a>\n * produce the same results each time a sketch is run.\n *\n * @method noiseSeed\n * @param {Number} seed   seed value.\n * @example\n * <div>\n * <code>\n * function setup() {\n *   noiseSeed(99);\n *   background(255);\n * }\n *\n * function draw() {\n *   let noiseLevel = 100;\n *   let noiseScale = 0.005;\n *   // Scale input coordinate.\n *   let nt = noiseScale * frameCount;\n *   // Compute noise value.\n *   let x = noiseLevel * noise(nt);\n *   // Render.\n *   line(x, 0, x, height);\n *\n *   describe('A black rectangle that grows randomly, first to the right and then to the left.');\n * }\n * </code>\n * </div>\n */\np5.prototype.noiseSeed = function (seed) {\n  // Linear Congruential Generator\n  // Variant of a Lehman Generator\n  var lcg = function () {\n    // Set to values from http://en.wikipedia.org/wiki/Numerical_Recipes\n    // m is basically chosen to be large (as it is the max period)\n    // and for its relationships to a and c\n    var m = 4294967296;\n    // a - 1 should be divisible by m's prime factors\n    var a = 1664525;\n    // c and m should be co-prime\n    var c = 1013904223;\n    var seed, z;\n    return {\n      setSeed: function setSeed(val) {\n        // pick a random seed if val is undefined or null\n        // the >>> 0 casts the seed to an unsigned 32-bit integer\n        z = seed = (val == null ? Math.random() * m : val) >>> 0;\n      },\n      getSeed: function getSeed() {\n        return seed;\n      },\n      rand: function rand() {\n        // define the recurrence relationship\n        z = (a * z + c) % m;\n        // return a float in [0, 1)\n        // if z = m then z / m = 0 therefore (z % m) / m < 1 always\n        return z / m;\n      }\n    };\n  }();\n  lcg.setSeed(seed);\n  perlin = new Array(PERLIN_SIZE + 1);\n  for (var i = 0; i < PERLIN_SIZE + 1; i++) {\n    perlin[i] = lcg.rand();\n  }\n};\nvar _default = exports[\"default\"] = p5;\n\n},{}]},{},[1])(1)\n});\n"],"names":["f","exports","module","define","amd","window","global","self","this","LABY","r","e","n","t","o","i","c","require","u","a","Error","code","p","call","length","1","Object","defineProperty","value","enumerable","get","_Tile","_TileMap","_labyrinthos","utils","terrains","shapes","mazes","_interopRequireDefault","obj","__esModule","default","./lib/Tile.js","./lib/TileMap.js","./lib/labyrinthos.js","2","_typeof","Symbol","iterator","constructor","prototype","_defineProperties","target","props","descriptor","configurable","writable","toPrimitive","String","Number","TypeError","key","_createClass","Constructor","protoProps","staticProps","Tile","type","3","_generateTiledJSON","_mersenne","_noise","_toConsumableArray","arr","Array","isArray","_arrayLikeToArray","iter","from","minLen","toString","slice","name","test","len","arr2","TileMap","_ref","arguments","undefined","_ref$x","x","_ref$y","y","width","height","depth","tileWidth","tileHeight","_ref$is3D","is3D","instance","mersenneTwister","Noise","noise","seedNoise","noiseSeed","data","initializeDataArray","defaultRogueLike","z","push","init2DArray","fill2D","max","rand","seed","subMap","offsetX","offsetY","targetX","targetY","tileSetRange","heightMap","Math","apply","min","range","normalizedHeight","round","format","asciiLookup","asciiMap","JSON","stringify","fill","./util/generateTiledJSON.js","./util/mersenne.js","./util/noise.js","4","_AldousBroder","_BinaryTree","_CellularAutomata","_EllersAlgorithm","_GrowingTree","_RecursiveBacktrack","_RecursiveDivision","_ThomasHunter","_Circle","_Square","_Triangle","_FaultLine","_PerlinNoise","labyrinthos","AldousBroder","BinaryTree","CellularAutomata","EllersAlgorithm","GrowingTree","RecursiveBacktrack","RecursiveDivision","ThomasHunter","Circle","Square","Triangle","FaultLine","PerlinNoise","./Tile.js","./TileMap.js","./mazes/AldousBroder.js","./mazes/BinaryTree.js","./mazes/CellularAutomata.js","./mazes/EllersAlgorithm.js","./mazes/GrowingTree.js","./mazes/RecursiveBacktrack.js","./mazes/RecursiveDivision.js","./mazes/ThomasHunter.js","./shapes/Circle.js","./shapes/Square.js","./shapes/Triangle.js","./terrains/FaultLine.js","./terrains/PerlinNoise.js","5","tileMap","options","visitedCells","totalCells","currentX","floor","random","currentY","directions","randomDirection","newX","newY","6","dx","neighbors","randomIndex","_neighbors$randomInde","l","next","done","dy","7","wallChance","iterations","neighborThreshold","newData","_y","_x","wallNeighbors","nx","ny","8","sets","findSet","id","concat","cells","unionSets","x1","y1","x2","y2","set1","set2","forEach","cellId","setVisited","currentSet","_x2","9","_slicedToArray","floorTileId","_loop","nextX","_cellsStack","cellsStack","cx","cy","_ref2","nextY","pop","10","getNeighbors","visited","removeWall","index1","index2","stack","startX","startY","visitCell","_stack","_neighbors$Math$floor","11","addWalls","horizontal","wx","wy","px","py","12","fractional","sqrt","roomNumber","flattened","Roguelike","retry","special","room","ideal","roomCount","min_width","roomMinWidth","max_width","roomMaxWidth","min_height","roomMinHeight","max_height","build","world","reduce","agg","line","lcv","TILE","DEFAULT","config","room_min_width","room_max_width","room_min_height","room_max_height","room_ideal_count","retry_count","want_special","result","row","tile","rooms","doors","walls","enter","exit","deadends","room_id","door_id","createVoid","addStarterRoom","generateRooms","addSpecialRooms","buildWalls","door_count","room_count","dimen","getRoomDimensions","max_left","ROOM_GAP","max_top","left","randomOdd","top","addRoom","retries","generateRoom","slide","randomFn","x_dir","y_dir","collides","collide_room","invalid","new_room_id","addDoorBetweenRooms","tx","addWall","ry","bx","ly","existing_room_id","orientation","existing_room","new_room","addDoor","smallest","area","Infinity","deadend","index","indexOf","splice","door","shuffle","enter_room_id","randomNonEdgeInRoom","enter_door","exit_room_id","exit_door","room1","room2","min_raw","max_raw","j","13","radius","centerX","centerY","pow","14","size","15","16","heightIncrease","b","d","applyHeightToTileMap","17","scale","noiseValue","18","N","UPPER_MASK","LOWER_MASK","mt","mti","unsigned32","n1","addition32","n2","multiplication32","sum","init_genrand","s","init_by_array","init_key","key_length","k","dbg","mag01","genrand_int32","kk","M","genrand_int31","genrand_real1","genrand_real2","genrand_real3","genrand_res53","19","compressionlevel","infinite","layers","opacity","visible","nextlayerid","nextobjectid","renderorder","tiledversion","tileheight","tilesets","columns","firstgid","grid","margin","spacing","tilecount","tiles","image","imageheight","imagewidth","tilewidth","version","20","_MersenneTwister","gen","Date","getTime","currentSeed","S","seed_array","A","./MersenneTwister19937.js","21","p5","scaled_cosine","cos","PI","perlin","PERLIN_SIZE","perlin_octaves","perlin_amp_falloff","n3","xi","yi","zi","xf","yf","zf","ampl","of","rxf","ryf","noiseDetail","lod","falloff","m","lcg","setSeed","val","getSeed"],"mappings":"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"}